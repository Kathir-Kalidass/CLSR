# ====================================
# CSLR Backend Configuration
# ====================================

# Application
APP_NAME="CSLR Backend"
DEBUG=false
LOG_LEVEL=INFO

# Server
HOST=0.0.0.0
PORT=8000
WORKERS=4

# Device Configuration
DEVICE=cuda  # cuda or cpu
USE_AMP=true  # Automatic Mixed Precision (2x speedup)
# GPU_ID=0  # Specific GPU device ID

# Model Configuration
CHECKPOINT_DIR=./checkpoints
VOCAB_FILE=./data/vocab.json
MODEL_TYPE=bilstm  # bilstm or transformer

# Inference Settings
BATCH_SIZE=1
CLIP_LENGTH=64
CLIP_STRIDE=32
TARGET_FPS=25
MAX_FRAMES=300

# Feature Extraction
RGB_BACKBONE=resnet18  # resnet18, resnet34, resnet50
POSE_INPUT_DIM=258  # 75 keypoints * 2 (x,y) + confidence
FEATURE_DIM=512
FUSION_TYPE=gated_attention  # concat, add, gated_attention

# Sequence Modeling
HIDDEN_DIM=256
NUM_LAYERS=2
DROPOUT=0.1

# CTC Decoding
BEAM_WIDTH=5
BLANK_ID=0

# Preprocessing
MOTION_THRESHOLD=5.0
MIN_DETECTION_CONFIDENCE=0.5
IMAGE_SIZE=224

# WebSocket
MAX_CLIENTS=10
WEBSOCKET_TIMEOUT=300  # seconds

# Security (Optional)
REQUIRE_AUTH=false
# API_KEYS=your_api_key_here
# SECRET_KEY=your_secret_key_here

# Rate Limiting
MAX_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds

# Database (Optional - for logging/metrics)
# DATABASE_URL=sqlite:///./cslr.db
# DATABASE_POOL_SIZE=5

# Cache / Translation Service
ENABLE_CACHE=true
CACHE_TTL_SECONDS=3600
USE_TRANSLATION_SERVICE=false

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Training (Optional)
TRAIN_DATA_DIR=./data/train
VAL_DATA_DIR=./data/val
NUM_EPOCHS=100
LEARNING_RATE=0.001
WEIGHT_DECAY=0.0001
GRADIENT_CLIP=1.0
SAVE_FREQ=5
VAL_FREQ=1

# Distributed Training
# WORLD_SIZE=1
# RANK=0
# DIST_URL=tcp://localhost:23456
# BACKEND=nccl  # nccl for GPU, gloo for CPU

# Paths
DATA_DIR=./data
UPLOAD_DIR=./uploads
LOG_DIR=./logs

# CORS (Configure for production)
CORS_ORIGINS=["*"]

# Performance
TORCH_NUM_THREADS=4
OMP_NUM_THREADS=4
